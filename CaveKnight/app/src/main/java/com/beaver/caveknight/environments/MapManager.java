package com.beaver.caveknight.environments;

import android.graphics.Canvas;

import com.beaver.caveknight.helpers.GameConstants;

public class MapManager {

    private GameMap currentMap;
    private float cameraX, cameraY;

    public MapManager() {
        initTestMap();

    }

    public void setCameraValues(float cameraX, float cameraY) {
        this.cameraX = cameraX;
        this.cameraY = cameraY;
    }

    public boolean canMoveHere(float x, float y) {
        if (x < 0 || y < 0)
            return false;

         return !(x >= getMaxWidthCurrentMap()) && !(y >= getMaxHeightCurrentMap());
    }

    public int getMaxWidthCurrentMap() {
        return currentMap.getArrayWidth() * GameConstants.Sprite.SIZE;
    }

    public int getMaxHeightCurrentMap() {
        return currentMap.getArrayHeight() * GameConstants.Sprite.SIZE;
    }


    public void draw(Canvas c) {
        for (int j = 0; j < currentMap.getArrayHeight(); j++)
            for (int i = 0; i < currentMap.getArrayWidth(); i++)
                c.drawBitmap(Floor.OUTSIDE.getSprite(currentMap.getSpriteID(i, j)), i * GameConstants.Sprite.SIZE + cameraX, j * GameConstants.Sprite.SIZE + cameraY, null);
    }

    private void initTestMap() {

        int[][] spriteIdsOverWorld = {
                {454, 276, 275, 275, 275, 275, 275, 279, 275, 275, 275, 275, 275, 275, 297, 110, 0, 1, 1, 1, 1, 1, 2, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 279, 275, 275, 275, 275, 275, 275, 275, 279, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 279, 279, 275, 278, 275, 275, 275, 275, 279, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 275, 275, 279, 275, 276, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 278, 275, 275, 275, 276, 275, 275, 275, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 279, 275, 279, 275, 279, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 276, 277, 275, 275, 275, 275, 279, 275, 279, 275, 279, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 275, 278, 275, 275, 275, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 279, 275, 275, 275, 275, 275, 275, 279, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 279, 275, 275, 275, 275, 279, 275, 275, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 279, 275, 275, 279, 275, 275, 275, 275, 275, 275, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 279, 275, 279, 275, 279, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 275, 278, 275, 275, 275, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 279, 275, 279, 275, 279, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 276, 277, 275, 275, 275, 275, 279, 275, 279, 275, 279, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 275, 278, 275, 275, 275, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 279, 275, 275, 275, 275, 275, 275, 279, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 275, 275, 275, 278, 275, 275, 275, 275, 279, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 275, 279, 275, 275, 275, 275, 275, 275, 279, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 275, 279, 275, 275, 275, 275, 279, 275, 275, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 279, 275, 275, 279, 275, 275, 275, 275, 275, 275, 275, 275, 275, 297, 110, 22, 23, 23, 23, 23, 23, 24, 110, 132, 275, 279, 275, 275, 275, 275, 454},
                {454, 275, 279, 275, 275, 275, 279, 275, 275, 275, 275, 275, 275, 275, 297, 110, 44, 45, 45, 45, 45, 45, 46, 110, 132, 275, 279, 275, 275, 275, 275, 454}
        };

        int[][] spriteIdsCave = {
                {346, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 364, 347},
                {343, 429, 432, 429, 431, 429, 433, 429, 429, 429, 430, 429, 429, 429, 431, 429, 429, 433, 429, 429, 430, 429, 429, 431, 429, 429, 433, 429, 429, 429, 432, 341},
                {343, 430, 429, 433, 429, 432, 429, 429, 431, 429, 429, 429, 429, 429, 430, 429, 429, 429, 432, 429, 431, 429, 429, 429, 433, 429, 429, 429, 430, 429, 429, 341},
                {343, 429, 433, 429, 429, 430, 429, 429, 432, 429, 429, 431, 429, 433, 429, 429, 429, 430, 429, 432, 429, 429, 429, 433, 429, 429, 429, 430, 429, 431, 429, 341},
                {343, 429, 429, 430, 429, 432, 429, 429, 429, 433, 429, 429, 429, 431, 429, 429, 429, 430, 429, 429, 429, 429, 432, 429, 429, 433, 429, 429, 431, 429, 429, 341},
                {343, 432, 429, 429, 429, 429, 429, 433, 429, 431, 429, 429, 429, 429, 429, 430, 429, 429, 433, 429, 429, 429, 432, 429, 429, 430, 429, 429, 429, 431, 429, 341},
                {343, 429, 429, 432, 429, 429, 431, 429, 429, 429, 429, 433, 429, 429, 429, 430, 429, 429, 432, 429, 429, 429, 429, 429, 433, 429, 429, 429, 431, 429, 429, 341},
                {343, 430, 429, 429, 429, 431, 429, 433, 429, 429, 429, 429, 429, 429, 432, 429, 429, 429, 433, 429, 429, 429, 429, 429, 429, 431, 429, 429, 429, 430, 429, 341},
                {343, 429, 429, 432, 429, 429, 429, 431, 429, 429, 433, 429, 429, 429, 429, 429, 430, 429, 429, 432, 429, 429, 429, 429, 433, 429, 429, 429, 429, 431, 429, 341},
                {343, 429, 433, 429, 429, 429, 429, 429, 430, 429, 429, 429, 432, 429, 429, 429, 429, 431, 429, 429, 429, 429, 433, 429, 429, 430, 429, 429, 429, 429, 429, 341},
                {343, 429, 429, 431, 429, 433, 429, 429, 429, 432, 429, 429, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 429, 429, 433, 429, 431, 429, 429, 429, 429, 341},
                {343, 429, 429, 429, 430, 429, 429, 429, 433, 429, 429, 429, 429, 432, 429, 429, 429, 431, 429, 429, 429, 429, 429, 429, 433, 429, 429, 430, 429, 429, 429, 341},
                {343, 429, 429, 432, 429, 429, 429, 429, 429, 431, 429, 433, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 429, 429, 432, 429, 429, 433, 429, 429, 429, 341},
                {343, 430, 429, 429, 433, 429, 429, 429, 429, 429, 431, 429, 429, 429, 432, 429, 429, 429, 429, 429, 429, 429, 433, 429, 429, 429, 429, 432, 429, 430, 429, 341},
                {343, 429, 429, 432, 429, 429, 429, 433, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 431, 429, 429, 429, 433, 429, 429, 429, 429, 432, 429, 429, 429, 341},
                {343, 429, 431, 429, 429, 429, 433, 429, 429, 429, 429, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 429, 433, 429, 429, 431, 429, 429, 429, 429, 432, 341},
                {343, 429, 429, 429, 429, 429, 432, 429, 429, 429, 429, 433, 429, 429, 431, 429, 429, 429, 429, 429, 429, 429, 430, 429, 429, 429, 432, 429, 429, 433, 429, 341},
                {343, 429, 429, 432, 429, 429, 429, 431, 429, 433, 429, 429, 429, 429, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 432, 429, 429, 429, 429, 429, 429, 341},
                {343, 429, 429, 433, 429, 429, 429, 429, 429, 429, 430, 429, 429, 432, 429, 429, 429, 431, 429, 429, 429, 429, 429, 433, 429, 429, 429, 429, 429, 430, 429, 341},
                {343, 429, 429, 429, 433, 429, 429, 431, 429, 429, 429, 432, 429, 429, 429, 429, 429, 429, 429, 429, 430, 429, 429, 429, 429, 429, 429, 433, 429, 431, 429, 341},
                {343, 429, 429, 429, 432, 429, 429, 429, 429, 429, 433, 429, 429, 429, 429, 430, 429, 429, 431, 429, 429, 429, 429, 433, 429, 429, 429, 429, 429, 432, 429, 341},
                {368, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 320, 369}
        };

        currentMap = new GameMap(spriteIdsCave);
    }
}
